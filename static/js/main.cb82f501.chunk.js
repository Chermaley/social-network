(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{129:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){e.exports={description:"profileInfo_description__3o5_0"}},133:function(e,t,n){e.exports={item:"post_item__1y2Bx"}},134:function(e,t,n){e.exports={postBlock:"myPosts_postBlock__1gIeR"}},136:function(e,t,n){e.exports={photo:"user_photo__3bUfE"}},15:function(e,t,n){e.exports={navbar:"nav_navbar__1sgBY",items:"nav_items__1HLGi",item:"nav_item__7oIdo",active:"nav_active__1Qdkv"}},173:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var r,a=n(0),s=n(62),c=n.n(s),o=n(1),i=n.n(o),u=n(27),l=n(28),j=n(31),d=n(30),p=n(15),b=n.n(p),f=n(13),O=n(11),h=Object(O.b)()((function(){return Object(a.jsx)("nav",{className:b.a.navbar,children:Object(a.jsxs)("div",{className:b.a.items,children:[Object(a.jsx)("div",{className:b.a.item,children:Object(a.jsx)(f.b,{activeClassName:b.a.active,to:"/profile",children:"Profile"})}),Object(a.jsx)("div",{className:b.a.item,children:Object(a.jsx)(f.b,{activeClassName:b.a.active,to:"/dialogs",children:"Messages"})}),Object(a.jsx)("div",{className:b.a.item,children:Object(a.jsx)(f.b,{activeClassName:b.a.active,to:"/users",children:"Users"})}),Object(a.jsx)("div",{className:b.a.item,children:Object(a.jsx)(f.b,{activeClassName:b.a.active,to:"/news",children:"News"})}),Object(a.jsx)("div",{className:b.a.item,children:Object(a.jsx)(f.b,{activeClassName:b.a.active,to:"/music",children:"Music"})}),Object(a.jsx)("div",{className:b.a.item,children:Object(a.jsx)(f.b,{activeClassName:b.a.active,to:"/settings",children:"Settings"})})]})})})),g=n(12),m=(n(173),function(){return Object(a.jsx)("p",{children:"Settings"})}),x=n(67),v=n.n(x),_=n(91),w=n.n(_),S=function(e){var t=e.person,n=e.id,r="/dialogs/".concat(n);return Object(a.jsx)("div",{className:w.a.dialog+" "+w.a.active,children:Object(a.jsx)(f.b,{to:r,children:t})})},P=n(129),C=n.n(P),y=function(e){var t=e.label;return Object(a.jsx)("div",{className:C.a.message,children:t})},N=n(36),E=n(3),U="DIALOGS/ADD_MESSAGE",k={messages:[{id:1,message:"hey"},{id:2,message:"lol"}],dialogs:[{person:"Andrey",id:1},{person:"Sergey",id:2}]},A=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case U:return e={id:5,message:n.message},Object(E.a)(Object(E.a)({},t),{},{messages:[].concat(Object(N.a)(t.messages),[e])});default:return t}},I=function(e){return Object(O.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){var n=t.isAuth,r=t.props;return n?Object(a.jsx)(e,Object(E.a)({},r)):Object(a.jsx)(g.a,{to:"/login"})}))},T=n(9),L=n(125),R=n(126),D=n(70),F=n(43),M=n.n(F),z=function(e){var t=e.meta,n=Object(D.a)(e,["meta"]),r=t.touched&&t.error,s=r?Object(a.jsx)("span",{children:t.error}):null;return Object(a.jsxs)("div",{className:r?M.a.formControl+" "+M.a.error:M.a.formControl,children:[Object(a.jsx)("div",{children:n.children}),s]})},G=function(e){var t=e.input,n=Object(D.a)(e,["input"]);return Object(a.jsx)(z,Object(E.a)(Object(E.a)({},e),{},{children:Object(a.jsx)("textarea",Object(E.a)(Object(E.a)({},n),t))}))},B=function(e){var t=e.input,n=Object(D.a)(e,["input"]);return Object(a.jsx)(z,Object(E.a)(Object(E.a)({},e),{},{children:Object(a.jsx)("input",Object(E.a)(Object(E.a)({},t),n))}))},H=function(e){if(!e)return"Field is required"},K=Object(R.a)({form:"addMessageForm"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)(L.a,{component:G,name:"newMessageText",validate:[H]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"Send"})})]})})),q=Object(T.d)(I,Object(O.b)((function(e){return{dialogsData:e.dialogsPage.dialogs,messagesData:e.dialogsPage.messages}}),{addNewMessage:function(e){return{type:U,message:e}}}))((function(e){var t=e.dialogsData,n=e.messagesData,r=e.addNewMessage,s=t.map((function(e){var t=e.id,n=e.person;return Object(a.jsx)(S,{id:t,person:n},t)})),c=n.map((function(e){var t=e.message,n=e.id;return Object(a.jsx)(y,{label:t},n)}));return Object(a.jsxs)("div",{className:v.a.dialogs,children:[Object(a.jsx)("div",{className:v.a.dialogsItems,children:s}),Object(a.jsxs)("div",{className:v.a.messages,children:[Object(a.jsx)("div",{children:c}),Object(a.jsx)(K,{onSubmit:function(e){var t=e.newMessageText;r(t)}})]})]})})),W=n(131),X=n.n(W),Y=n(132),J=n.n(Y),Q=n(94),V=n.n(Q),Z=function(){return Object(a.jsx)("div",{className:V.a.preloader,children:Object(a.jsx)("div",{className:V.a.spinner})})},$=n.p+"static/media/avatar.00971467.png",ee=n(53),te=function(e){var t=e.status,n=e.updateStatus,r=Object(o.useState)(!1),s=Object(ee.a)(r,2),c=s[0],i=s[1],u=Object(o.useState)(t),l=Object(ee.a)(u,2),j=l[0],d=l[1];Object(o.useEffect)((function(){d(t)}),[t]);var p=c?Object(a.jsx)("input",{onBlur:function(){i(!1),n(j)},autoFocus:!0,type:"text",onChange:function(e){d(e.target.value)},value:j}):Object(a.jsx)("span",{onDoubleClick:function(){i(!0)},children:t||"..."});return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{children:p})})},ne=function(e){var t=e.profile,n=e.status,r=e.updateStatus;if(!t)return Object(a.jsx)(Z,{});var s=t.photos;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:J.a.description,children:Object(a.jsx)("img",{src:s.small||$})}),Object(a.jsx)(te,{status:n,updateStatus:r})]})},re=n(133),ae=n.n(re),se=function(e){var t=e.img,n=e.text,r=e.likesCount;return Object(a.jsxs)("div",{className:ae.a.item,children:[Object(a.jsx)("img",{src:t,alt:"avatar"}),n,Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:["like ",r]})})]})},ce=n(134),oe=n.n(ce),ie=n(10),ue=n.n(ie),le=n(17),je=n(135),de=n.n(je).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"f68a4cda-2f4c-4785-816b-4190cdf2b12c"}}),pe={getUsers:function(){var e=Object(le.a)(ue.a.mark((function e(){var t,n,r,a=arguments;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,n=a.length>1&&void 0!==a[1]?a[1]:10,e.next=4,de.get("/users?page=".concat(t,"&count=").concat(n));case 4:return r=e.sent,e.next=7,r.data;case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),followUser:function(e){return de.post("/follow/".concat(e))},unFollowUser:function(e){return de.delete("/follow/".concat(e))}},be=function(){return de.get("/auth/me")},fe=function(e,t,n){return de.post("/auth/login",{email:e,password:t,rememberMe:n})},Oe=function(){return de.delete("/auth/login")},he=function(e){return de.get("/profile/".concat(e))},ge=function(e){return de.get("/profile/status/".concat(e))},me=function(e){return de.put("/profile/status",{status:e})},xe="PROFILE/ADD-POST",ve="PROFILE/SET_PROFILE",_e="PROFILE/SET_STATUS",we="PROFILE/DELETE_POST",Se={posts:[{img:"https://cdn4.iconfinder.com/data/icons/small-n-flat/24/user-alt-512.png",text:"wow",likesCount:2,id:1}],profile:null,status:""},Pe=function(e){return{type:_e,status:e}},Ce=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case xe:return e={id:2,text:n.postText,likesCount:0},Object(E.a)(Object(E.a)({},t),{},{posts:[].concat(Object(N.a)(t.posts),[e])});case ve:return Object(E.a)(Object(E.a)({},t),{},{profile:n.profile});case _e:return Object(E.a)(Object(E.a)({},t),{},{status:n.status});case we:return Object(E.a)(Object(E.a)({},t),{},{posts:t.posts.filter((function(e){return e.id!==n.id}))});default:return t}},ye=(r=10,function(e){if(e.length>r)return"Max length is ".concat(r," symbols")});var Ne=Object(R.a)({form:"postForm"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)(L.a,{placeholder:"Enter your post text",validate:[H,ye],name:"postText",component:G}),Object(a.jsx)("button",{children:"Add post"})]})})),Ee=i.a.memo((function(e){var t=e.postData,n=e.addNewPost,r=t.map((function(e){var t=e.img,n=e.text,r=e.id,s=e.likesCount;return Object(a.jsx)(se,{img:t,text:n,likesCount:s},r)}));return Object(a.jsxs)("div",{className:oe.a.postBlock,children:[Object(a.jsx)("h3",{children:"My post"}),Object(a.jsx)("div",{children:"New post"}),Object(a.jsx)(Ne,{onSubmit:function(e){var t=e.postText;n(t)}}),Object(a.jsx)("div",{children:r})]})})),Ue=Object(O.b)((function(e){return{postData:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addNewPost:function(e){return{type:xe,postText:e}}})(Ee),ke=function(e){var t=e.profile,n=e.status,r=e.updateStatus;return Object(a.jsxs)("div",{className:X.a.profile,children:[Object(a.jsx)(ne,{status:n,profile:t,updateStatus:r}),Object(a.jsx)(Ue,{})]})},Ae=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getProfile,n=e.match,r=e.getStatus,a=e.authUserId,s=n.params.id;s||(s=a)||this.props.history.push("/login"),t(s),r(s)}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.status,r=e.updateStatus;return Object(a.jsx)(ke,Object(E.a)(Object(E.a)({},this.props),{},{profile:t,status:n,updateStatus:r}))}}]),n}(o.Component),Ie=Object(T.d)(I,g.f,Object(O.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId}}),{getProfile:function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){var r;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,he(e);case 2:r=t.sent,n((a=r.data,{type:ve,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){var r;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ge(e);case 2:r=t.sent,n(Pe(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me(e);case 2:0===t.sent.data.resultCode&&n(Pe(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(Ae),Te="USERS/CHANGE_TERM",Le="USERS/TOGGLE_FOLLOW",Re="USERS/TOGGLE_LOADING",De="USERS/SET_USERS",Fe="USERS/SET_TOTAL_USERS_COUNT",Me="USERS/SET_CURRENT_PAGE",ze="USERS/TOGGLE_FOLLOWING_PROGRESS",Ge={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isLoading:!1,followingInProgress:[],term:""},Be=function(e){return{type:Le,id:e}},He=function(){return{type:Re}},Ke=function(e,t){return{type:ze,id:e,isFetching:t}},qe=function(){var e=Object(le.a)(ue.a.mark((function e(t,n,r,a){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ke(n,!0)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&(t(r(n)),t(Ke(n,!1)));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:return Object(E.a)(Object(E.a)({},e),{},{users:Object(N.a)(t.users)});case Le:return Object(E.a)(Object(E.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(E.a)(Object(E.a)({},e),{},{followed:!e.followed}):e}))});case Fe:return Object(E.a)(Object(E.a)({},e),{},{totalUsersCount:t.usersCount});case Me:return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.pageNumber});case Re:return Object(E.a)(Object(E.a)({},e),{},{isLoading:!e.isLoading});case ze:return Object(E.a)(Object(E.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(N.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});case Te:return Object(E.a)(Object(E.a)({},e),{},{term:t.term});default:return e}},Xe=n(136),Ye=n.n(Xe),Je=function(e){var t=e.fullName,n=e.onFollowClick,r=e.followStatus,s=e.location,c=e.photoUrl,o=e.status,i=e.id,u=e.followingInProgress,l=r?"unfollow":"follow";return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:Object(a.jsx)(f.b,{to:"/profile/".concat(i),children:Object(a.jsx)("img",{src:c,alt:"user photo",className:Ye.a.photo})})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{disabled:u.some((function(e){return e===i})),onClick:n,children:l})})]}),Object(a.jsxs)("span",{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:t}),Object(a.jsx)("div",{children:o})]}),Object(a.jsx)("span",{children:Object(a.jsx)("div",{children:s})})]})]})},Qe=n(65),Ve=n(69),Ze=n.n(Ve),$e=n(137),et=n.n($e),tt=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,s=e.onPageChanged,c=e.portionSize,i=void 0===c?10:c,u=Math.ceil(t/n),l=[],j=1;j<=u;j++)l.push(j);var d=Math.ceil(u/i),p=Object(o.useState)(1),b=Object(ee.a)(p,2),f=b[0],O=b[1],h=(f-1)*i+1,g=f*i;return Object(a.jsxs)("div",{className:Ze.a.paginator,children:[f>1&&Object(a.jsx)("button",{onClick:function(){O(f-1)},children:"PREV"}),l.filter((function(e){return e>=h&&e<=g})).map((function(e){return Object(a.jsx)("span",{className:et()(Object(Qe.a)({},Ze.a.selectedPage,r===e),Ze.a.pageNumber),onClick:function(){s(e)},children:e},e)})),d>f&&Object(a.jsx)("button",{onClick:function(){O(f+1)},children:"NEXT"})]})},nt=function(e){var t=e.usersData,n=e.term,r=e.totalUsersCount,s=e.pageSize,c=e.currentPage,o=e.onChangeTerm,i=e.onPageChanged,u=e.followingInProgress,l=e.followUser,j=e.unFollowUser,d=e.isLoading,p=t.map((function(e){var t=e.id,n=e.name,r=e.status,s=e.followed,c=e.photos;return Object(a.jsx)(Je,{onFollowClick:function(){return s?j(t):l(t)},photoUrl:c.small?c.small:$,followStatus:s,fullName:n,location:"Russia",status:r,id:t,followingInProgress:u},t)}));return Object(a.jsxs)("div",{children:[Object(a.jsx)(tt,{totalItemsCount:r,pageSize:s,currentPage:c,onPageChanged:i}),Object(a.jsx)("textarea",{onChange:o,value:n}),d?Object(a.jsx)(Z,{}):p]})},rt=function(e){return e.usersPage.users},at=function(e){return e.usersPage.pageSize},st=function(e){return e.usersPage.totalUsersCount},ct=function(e){return e.usersPage.currentPage},ot=function(e){return e.usersPage.isLoading},it=function(e){return e.usersPage.followingInProgress},ut=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onChangeTerm=function(t){var n=t.target.value;e.props.changeTerm(n)},e.onPageChanged=function(t){var n=e.props,r=n.pageSize,a=n.requestUsers;(0,n.setCurrentPage)(t),a(t,r)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;(0,e.requestUsers)(t,n)}},{key:"render",value:function(){var e=this.props,t=e.usersData,n=e.followUser,r=e.unFollowUser,s=e.term,c=e.totalUsersCount,o=e.pageSize,i=e.currentPage,u=e.isLoading,l=e.followingInProgress;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(nt,{isLoading:u,usersData:t,term:s,totalUsersCount:c,pageSize:o,currentPage:i,onChangeTerm:this.onChangeTerm,onPageChanged:this.onPageChanged,followingInProgress:l,followUser:n,unFollowUser:r})})}}]),n}(o.Component),lt=Object(O.b)((function(e){return{usersData:rt(e),term:e.usersPage.term,totalUsersCount:st(e),pageSize:at(e),currentPage:ct(e),isLoading:ot(e),followingInProgress:it(e)}}),{changeTerm:function(e){return{type:Te,term:e}},follow:Be,setCurrentPage:function(e){return{type:Me,pageNumber:e}},toggleFollowingProgress:Ke,requestUsers:function(e,t){return function(){var n=Object(le.a)(ue.a.mark((function n(r){var a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(He()),n.next=3,pe.getUsers(e,t);case 3:a=n.sent,r(He()),r((c=a.totalCount,{type:Fe,usersCount:c})),r((s=a.items,{type:De,users:s}));case 7:case"end":return n.stop()}var s,c}),n)})));return function(e){return n.apply(this,arguments)}}()},followUser:function(e){return function(t){qe(t,e,Be,pe.followUser)}},unFollowUser:function(e){return function(){var t=Object(le.a)(ue.a.mark((function t(n){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:qe(n,e,Be,pe.unFollowUser);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(ut),jt=n(95),dt=n.n(jt),pt=function(e){var t=e.isAuth,n=e.login,r=e.logout;return Object(a.jsxs)("header",{className:dt.a.header,children:[Object(a.jsx)("img",{alt:"logo",src:"https://i.exclipart.com/images/mushroom-clipart-realistic-2.png"}),Object(a.jsx)("div",{className:dt.a.loginBlock,children:t?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:n})," ",Object(a.jsx)("span",{onClick:r,children:"Logout"})]}):Object(a.jsx)(f.b,{to:"/login",children:"Login"})})]})},bt=n(38),ft="AUTH/SET_USER_DATA",Ot="AUTH/DELETE_USER_DATA",ht={isLoading:!1,userId:null,email:null,login:null,isAuth:!1},gt=function(e,t,n){return{type:ft,data:{userId:e,email:t,login:n}}},mt=function(){return function(){var e=Object(le.a)(ue.a.mark((function e(t){var n,r,a,s,c;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,s=r.login,c=r.email,t(gt(a,c,s)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ft:return Object(E.a)(Object(E.a)(Object(E.a)({},e),t.data),{},{isAuth:!0});case Ot:return Object(E.a)(Object(E.a)({},e),{},{userId:null,email:null,login:null,isAuth:!1});default:return e}},vt=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isAuth,n=e.login,r=e.logout;return Object(a.jsx)(pt,Object(E.a)(Object(E.a)({},this.props),{},{logout:r,isAuth:t,login:n}))}}]),n}(o.Component),_t=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(le.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:0===e.sent.data.resultCode&&t({type:Ot});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(vt),wt=Object(R.a)({form:"login"})((function(e){var t=e.error,n=t?Object(a.jsx)("div",{className:M.a.summaryError,children:t}):null;return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(a.jsx)("div",{children:Object(a.jsx)(L.a,{validate:[H],type:"text",name:"email",placeholder:"login",component:B})}),Object(a.jsx)("div",{children:Object(a.jsx)(L.a,{validate:[H],type:"password",name:"password",placeholder:"password",component:B})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(L.a,{type:"checkbox",name:"rememberMe",component:B}),"remember me"]}),n,Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"Submit"})})]})})),St=Object(O.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(le.a)(ue.a.mark((function r(a){var s,c,o;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fe(e,t,n);case 2:0===(s=r.sent).data.resultCode?a(mt()):(c=0!==s.data.messages?s.data.messages[0]:"some error",o=Object(bt.a)("login",{_error:c}),a(o));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.login;return e.isAuth?Object(a.jsx)(g.a,{to:"/profile"}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsx)(wt,{onSubmit:function(e){var n=e.email,r=e.password,a=e.rememberMe;t(n,r,a)}})]})})),Pt="APP/INITIALIZED_SUCCESS",Ct={initialized:!1},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pt:return Object(E.a)(Object(E.a)({},e),{},{initialized:!0});default:return e}},Nt={friends:[{id:4,name:"Anton",photo:"https://im.kommersant.ru/Issues.photo/CORP/2019/03/01/KMO_111307_24199_1_t218_162046.jpg"},{id:4,name:"Anton",photo:"https://im.kommersant.ru/Issues.photo/CORP/2019/03/01/KMO_111307_24199_1_t218_162046.jpg"},{id:4,name:"Anton",photo:"https://im.kommersant.ru/Issues.photo/CORP/2019/03/01/KMO_111307_24199_1_t218_162046.jpg"},{id:4,name:"Anton",photo:"https://im.kommersant.ru/Issues.photo/CORP/2019/03/01/KMO_111307_24199_1_t218_162046.jpg"}]},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return e},Ut=n(138),kt=n(127),At=Object(T.c)({profilePage:Ce,dialogsPage:A,sidebar:Et,usersPage:We,auth:xt,app:yt,form:kt.a}),It=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,Tt=Object(T.e)(At,It(Object(T.a)(Ut.a))),Lt=i.a.lazy((function(){return n.e(4).then(n.bind(null,290))})),Rt=i.a.lazy((function(){return n.e(3).then(n.bind(null,291))})),Dt=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.initializeApp)()}},{key:"render",value:function(){return this.props.initialized?Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(_t,{}),Object(a.jsx)(h,{}),Object(a.jsx)("div",{className:"app-wrapper-content",children:Object(a.jsxs)(o.Suspense,{fallback:Object(a.jsx)(Z,{}),children:[Object(a.jsx)(g.b,{path:"/profile/:id?",render:function(){return Object(a.jsx)(Ie,{})}}),Object(a.jsx)(g.b,{path:"/dialogs",render:function(){return Object(a.jsx)(q,{})}}),Object(a.jsx)(g.b,{path:"/music",component:Rt}),Object(a.jsx)(g.b,{path:"/news",component:Lt}),Object(a.jsx)(g.b,{path:"/users",render:function(){return Object(a.jsx)(lt,{})}}),Object(a.jsx)(g.b,{path:"/settings",component:m}),Object(a.jsx)(g.b,{path:"/login",component:St})]})})]}):Object(a.jsx)(Z,{})}}]),n}(o.Component),Ft=Object(T.d)(g.f,Object(O.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(mt()).then((function(){e({type:Pt})}))}}}))(Dt),Mt=function(){return Object(a.jsx)(f.a,{basename:"/social-network",children:Object(a.jsx)(O.a,{store:Tt,children:Object(a.jsx)(Ft,{})})})};c.a.render(Object(a.jsx)(Mt,{}),document.getElementById("root"))},43:function(e,t,n){e.exports={formControl:"formControls_formControl__nwszG",error:"formControls_error__23Zih",summaryError:"formControls_summaryError__4h2HN"}},67:function(e,t,n){e.exports={dialogs:"dialogs_dialogs__14W0_",messages:"dialogs_messages__Odv3N"}},69:function(e,t,n){e.exports={paginator:"paginator_paginator__2ARdb",pageNumber:"paginator_pageNumber__2YQgy",selectedPage:"paginator_selectedPage__2Px8m"}},91:function(e,t,n){e.exports={dialog:"dialog_dialog__SgFmC",active:"dialog_active__2_S4l"}},94:function(e,t,n){e.exports={preloader:"spinner_preloader__1jMg2",spinner:"spinner_spinner__1Hetg",spin:"spinner_spin__A_APw"}},95:function(e,t,n){e.exports={header:"header_header__18sGI",loginBlock:"header_loginBlock__2ztlx"}}},[[289,1,2]]]);
//# sourceMappingURL=main.cb82f501.chunk.js.map