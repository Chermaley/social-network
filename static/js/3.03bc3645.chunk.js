(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{305:function(e,t,s){e.exports={chat:"chatPage_chat__UGm6C",messages:"chatPage_messages__1rzWI",message:"chatPage_message__1KTs_",photo:"chatPage_photo__3AVl5"}},306:function(e,t,s){"use strict";s.r(t);var a=s(30),c=s(43),n=s(0),r=s(1),i=s(305),j=s.n(i),o=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx");t.default=function(){return Object(n.jsx)(u,{})};var u=function(){return Object(n.jsxs)("div",{className:j.a.chat,children:[Object(n.jsx)(h,{}),Object(n.jsx)(d,{})]})},h=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),s=t[0],i=t[1],u=function(e){i((function(t){return[].concat(Object(a.a)(t),Object(a.a)(JSON.parse(e.data)))}))};return Object(r.useEffect)((function(){console.log(1),o.addEventListener("message",u)}),[]),Object(n.jsx)("div",{className:j.a.messages,children:s.map((function(e,t){return Object(n.jsx)(b,{message:e},t)}))})},b=function(e){var t=e.message;return Object(n.jsxs)("div",{className:j.a.message,children:[Object(n.jsx)("div",{className:j.a.photo,children:Object(n.jsx)("img",{src:t.photo,alt:"userPhoto"})}),Object(n.jsx)("div",{className:j.a.text,children:t.message})]})},d=function(){var e=Object(r.useState)(""),t=Object(c.a)(e,2),s=t[0],a=t[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)("textarea",{onChange:function(e){return a(e.target.value)},value:s})}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(){s&&(o.send(s),a(""))},children:"Send"})})]})}}}]);
//# sourceMappingURL=3.03bc3645.chunk.js.map